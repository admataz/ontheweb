!function(){var requirejs,require,define;!function(e){function t(e,t){return y.call(e,t)}function n(e,t){var n,r,i,o,s,a,u,l,c,f,p,h=t&&t.split("/"),d=g.map,m=d&&d["*"]||{};if(e&&"."===e.charAt(0))if(t){for(h=h.slice(0,h.length-1),e=e.split("/"),s=e.length-1,g.nodeIdCompat&&b.test(e[s])&&(e[s]=e[s].replace(b,"")),e=h.concat(e),c=0;c<e.length;c+=1)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((h||m)&&d){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),h)for(f=h.length;f>0;f-=1)if(i=d[h.slice(0,f).join("/")],i&&(i=i[r])){o=i,a=c;break}if(o)break;!u&&m&&m[r]&&(u=m[r],l=c)}!o&&u&&(o=u,a=l),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function r(t,n){return function(){return c.apply(e,v.call(arguments,0).concat([t,n]))}}function i(e){return function(t){return n(t,e)}}function o(e){return function(t){h[e]=t}}function s(n){if(t(d,n)){var r=d[n];delete d[n],m[n]=!0,l.apply(e,r)}if(!t(h,n)&&!t(m,n))throw new Error("No "+n);return h[n]}function a(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function u(e){return function(){return g&&g.config&&g.config[e]||{}}}var l,c,f,p,h={},d={},g={},m={},y=Object.prototype.hasOwnProperty,v=[].slice,b=/\.js$/;f=function(e,t){var r,o=a(e),u=o[0];return e=o[1],u&&(u=n(u,t),r=s(u)),u?e=r&&r.normalize?r.normalize(e,i(t)):n(e,t):(e=n(e,t),o=a(e),u=o[0],e=o[1],u&&(r=s(u))),{f:u?u+"!"+e:e,n:e,pr:u,p:r}},p={require:function(e){return r(e)},exports:function(e){var t=h[e];return"undefined"!=typeof t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:u(e)}}},l=function(n,i,a,u){var l,c,g,y,v,b,w=[],x=typeof a;if(u=u||n,"undefined"===x||"function"===x){for(i=!i.length&&a.length?["require","exports","module"]:i,v=0;v<i.length;v+=1)if(y=f(i[v],u),c=y.f,"require"===c)w[v]=p.require(n);else if("exports"===c)w[v]=p.exports(n),b=!0;else if("module"===c)l=w[v]=p.module(n);else if(t(h,c)||t(d,c)||t(m,c))w[v]=s(c);else{if(!y.p)throw new Error(n+" missing "+c);y.p.load(y.n,r(u,!0),o(c),{}),w[v]=h[c]}g=a?a.apply(h[n],w):void 0,n&&(l&&l.exports!==e&&l.exports!==h[n]?h[n]=l.exports:g===e&&b||(h[n]=g))}else n&&(h[n]=a)},requirejs=require=c=function(t,n,r,i,o){if("string"==typeof t)return p[t]?p[t](n):s(f(t,n).f);if(!t.splice){if(g=t,g.deps&&c(g.deps,g.callback),!n)return;n.splice?(t=n,n=r,r=null):t=e}return n=n||function(){},"function"==typeof r&&(r=i,i=o),i?l(e,t,n,r):setTimeout(function(){l(e,t,n,r)},4),c},c.config=function(e){return c(e)},requirejs._defined=h,define=function(e,n,r){n.splice||(r=n,n=[]),t(h,e)||t(d,e)||(d[e]=[e,n,r])},define.amd={jQuery:!0}}(),define("lib/almond/almond",function(){}),!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("lib/reqwest/reqwest",n):t[e]=n()}("reqwest",this,function(){function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,twoHundo.test(e.request.status)?t(e.request):n(e.request)),void 0)}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"],t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var i=uniqid++,o=e.jsonpCallback||"callback",s=e.jsonpCallbackName||reqwest.getcallbackPrefix(i),a=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),u=r.match(a),l=doc.createElement("script"),c=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return u?"?"===u[3]?r=r.replace(a,"$1="+s):s=u[3]:r=urlappend(r,o+"="+s),win[s]=generalCallback,l.type="text/javascript",l.src=r,l.async=!0,"undefined"==typeof l.onreadystatechange||f||(l.event="onclick",l.htmlFor=l.id="_reqwest_"+i),l.onload=l.onreadystatechange=function(){return l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||c?!1:(l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),t(lastValue),lastValue=void 0,head.removeChild(l),c=1,void 0)},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),c=1}}}function getRequest(e,t){var n,r=this.o,i=(r.method||"GET").toUpperCase(),o="string"==typeof r?r:r.url,s=r.processData!==!1&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,a=!1;return"jsonp"!=r.type&&"GET"!=i||!s||(o=urlappend(o,s),s=null),"jsonp"==r.type?handleJsonp(r,e,t,o):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(i,o,r.async===!1?!1:!0),setHeaders(n,r),setCredentials(n,r),win[xDomainRequest]&&n instanceof win[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},a=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),a?setTimeout(function(){n.send(s)},200):n.send(s),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){var t=e.match(/\.(json|jsonp|html|xml)(\?|$)/);return t?t[1]:"js"}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this,type=o.type||setType(this.url);fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,i,o,s=e.name,a=e.tagName.toLowerCase(),u=function(e){e&&!e.disabled&&t(s,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&s)switch(a){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),i=e.value,(!(n||r)||e.checked)&&t(s,normalize(n&&""===i?"on":i)));break;case"textarea":t(s,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())u(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&u(e.options[o])}}function eachFormElement(){var e,t,n=this,r=function(e,t){var r,i,o;for(r=0;r<t.length;r++)for(o=e[byTag](t[r]),i=0;i<o.length;i++)serial(o[i],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var i,o,s,a=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)s=t[o],n||a.test(e)?r(e,s):buildParams(e+"["+("object"==typeof s?o:"")+"]",s,n,r);else if(t&&"[object Object]"===t.toString())for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}var win=window,doc=document,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=win[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,i=t||!1,o=[],s=encodeURIComponent,a=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=s(e)+"="+s(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)a(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],i,a);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("lib/bonzo/bonzo",n):t[e]=n()}("bonzo",this,function(){function e(e){return e&&e.nodeName&&(1==e.nodeType||11==e.nodeType)}function t(t,n,r){var i,o,s;if("string"==typeof t)return x.create(t);if(e(t)&&(t=[t]),r){for(s=[],i=0,o=t.length;o>i;i++)s[i]=y(n,t[i]);return s}return t}function n(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function r(e,t,n,r){for(var i,o=0,s=e.length;s>o;o++)i=r?e.length-o-1:o,t.call(n||e[i],e[i],i,e);return e}function i(t,n,r){for(var o=0,s=t.length;s>o;o++)e(t[o])&&(i(t[o].childNodes,n,r),n.call(r||t[o],t[o],o,t));return t}function o(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function s(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function a(e){e[F]("data-node-uid")||e[W]("data-node-uid",++M);var t=e[F]("data-node-uid");return I[t]||(I[t]={})}function u(e){var t=e[F]("data-node-uid");t&&delete I[t]}function l(e){var t;try{return null===e||void 0===e?void 0:"true"===e?!0:"false"===e?!1:"null"===e?null:(t=parseFloat(e))==e?t:e}catch(n){}return void 0}function c(e,t,n){for(var r=0,i=e.length;i>r;++r)if(t.call(n||null,e[r],r,e))return!0;return!1}function f(e){return"transform"==e&&(e=Q.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=Q.transform+"Origin")||"float"==e&&(e=Q.cssFloat),e?o(e):null}function p(e,n,i,o){var s=0,a=n||this,u=[],l=G&&"string"==typeof e&&"<"!=e.charAt(0)?G(e):e;return r(t(l),function(e,t){r(a,function(n){i(e,u[s++]=t>0?y(a,n):n)},null,o)},this,o),a.length=s,r(u,function(e){a[--s]=e},null,!o),a}function h(e,t,n){var r=x(e),i=r.css("position"),o=r.offset(),s="relative",a=i==s,u=[parseInt(r.css("left"),10),parseInt(r.css("top"),10)];"static"==i&&(r.css("position",s),i=s),isNaN(u[0])&&(u[0]=a?0:e.offsetLeft),isNaN(u[1])&&(u[1]=a?0:e.offsetTop),null!=t&&(e.style.left=t-o.left+u[0]+X),null!=n&&(e.style.top=n-o.top+u[1]+X)}function d(e,t){return"function"==typeof t?t(e):t}function g(e,t,n){var r=this[0];return r?null==e&&null==t?(v(r)?b():{x:r.scrollLeft,y:r.scrollTop})[n]:(v(r)?k.scrollTo(e,t):(null!=e&&(r.scrollLeft=e),null!=t&&(r.scrollTop=t)),this):this}function m(e){if(this.length=0,e){e="string"==typeof e||e.nodeType||"undefined"==typeof e.length?[e]:e,this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function y(e,t){var n,r,i,o=t.cloneNode(!0);if(e.$&&"function"==typeof e.cloneEvents)for(e.$(o).cloneEvents(t),n=e.$(o).find("*"),r=e.$(t).find("*"),i=0;i<r.length;i++)e.$(n[i]).cloneEvents(r[i]);return o}function v(e){return e===k||/^(?:body|html)$/i.test(e.tagName)}function b(){return{x:k.pageXOffset||C.scrollLeft,y:k.pageYOffset||C.scrollTop}}function w(e){var t=document.createElement("script"),n=e.match(H);return t.src=n[1],t}function x(e){return new m(e)}var T,q,E,k=window,S=k.document,C=S.documentElement,_="parentNode",A=/^(checked|value|selected|disabled)$/i,N=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,H=/\s*<script +src=['"]([^'"]+)['"]>/,j=["<table>","</table>",1],$=["<table><tbody><tr>","</tr></tbody></table>",3],D=["<select>","</select>",1],O=["_","",0,1],L={thead:j,tbody:j,tfoot:j,colgroup:j,caption:j,tr:["<table><tbody>","</tbody></table>",2],th:$,td:$,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:D,optgroup:D,script:O,style:O,link:O,param:O,base:O},P=/^(checked|selected|disabled)$/,R=/msie/i.test(navigator.userAgent),I={},M=0,z=/^-?[\d\.]+$/,B=/^data-(.+)$/,X="px",W="setAttribute",F="getAttribute",Y="getElementsByTagName",Q=function(){var e=S.createElement("p");return e.innerHTML='<a href="#x">x</a><table style="float:left;"></table>',{hrefExtended:"#x"!=e[Y]("a")[0][F]("href"),autoTbody:0!==e[Y]("tbody").length,computedStyle:S.defaultView&&S.defaultView.getComputedStyle,cssFloat:e[Y]("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var t,n=["transform","webkitTransform","MozTransform","OTransform","msTransform"];for(t=0;t<n.length;t++)if(n[t]in e.style)return n[t]}(),classList:"classList"in e,opasity:function(){return"undefined"!=typeof S.createElement("a").style.opacity}()}}(),V=/(^\s*|\s*$)/g,J=/\s+/,U=String.prototype.toString,K={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},G=S.querySelectorAll&&function(e){return S.querySelectorAll(e)},Z=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(V,"")},et=Q.computedStyle?function(e,t){var n=null,r=S.defaultView.getComputedStyle(e,"");return r&&(n=r[t]),e.style[t]||n}:R&&C.currentStyle?function(e,t){var n,r;if("opacity"==t&&!Q.opasity){n=100;try{n=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(i){try{n=e.filters("alpha").opacity}catch(o){}}return n/100}return r=e.currentStyle?e.currentStyle[t]:null,e.style[t]||r}:function(e,t){return e.style[t]};return Q.classList?(T=function(e,t){return e.classList.contains(t)},q=function(e,t){e.classList.add(t)},E=function(e,t){e.classList.remove(t)}):(T=function(e,t){return n(t).test(e.className)},q=function(e,t){e.className=Z(e.className+" "+t)},E=function(e,t){e.className=Z(e.className.replace(n(t)," "))}),m.prototype={get:function(e){return this[e]||null},each:function(e,t){return r(this,e,t)},deepEach:function(e,t){return i(this,e,t)},map:function(e,t){var n,r,i=[];for(r=0;r<this.length;r++)n=e.call(this,this[r],r),t?t(n)&&i.push(n):i.push(n);return i},html:function(e,n){var i=n?void 0===C.textContent?"innerText":"textContent":"innerHTML",o=this,s=function(n,i){r(t(e,o,i),function(e){n.appendChild(e)})},a=function(t,r){try{if(n||"string"==typeof e&&!N.test(t.tagName))return t[i]=e}catch(o){}s(t,r)};return"undefined"!=typeof e?this.empty().each(a):this[0]?this[0][i]:""},text:function(e){return this.html(e,!0)},append:function(e){var n=this;return this.each(function(i,o){r(t(e,n,o),function(e){i.appendChild(e)})})},prepend:function(e){var n=this;return this.each(function(i,o){var s=i.firstChild;r(t(e,n,o),function(e){i.insertBefore(e,s)})})},appendTo:function(e,t){return p.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return p.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)},1)},before:function(e){var n=this;return this.each(function(i,o){r(t(e,n,o),function(e){i[_].insertBefore(e,i)})})},after:function(e){var n=this;return this.each(function(i,o){r(t(e,n,o),function(e){i[_].insertBefore(e,i.nextSibling)},null,1)})},insertBefore:function(e,t){return p.call(this,e,t,function(e,t){e[_].insertBefore(t,e)})},insertAfter:function(e,t){return p.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[_].insertBefore(t,n):e[_].appendChild(t)},1)},replaceWith:function(e){return x(t(e)).insertAfter(this),this.remove()},clone:function(e){var t,n,r=[];for(n=0,t=this.length;t>n;n++)r[n]=y(e||this,this[n]);return x(r)},addClass:function(e){return e=U.call(e).split(J),this.each(function(t){r(e,function(e){e&&!T(t,d(t,e))&&q(t,d(t,e))})})},removeClass:function(e){return e=U.call(e).split(J),this.each(function(t){r(e,function(e){e&&T(t,d(t,e))&&E(t,d(t,e))})})},hasClass:function(e){return e=U.call(e).split(J),c(this,function(t){return c(e,function(e){return e&&T(t,e)})})},toggleClass:function(e,t){return e=U.call(e).split(J),this.each(function(n){r(e,function(e){e&&("undefined"!=typeof t?t?!T(n,e)&&q(n,e):E(n,e):T(n,e)?E(n,e):q(n,e))})})},show:function(e){return e="string"==typeof e?e:"",this.each(function(t){t.style.display=e})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,t){return t="string"==typeof t?t:"","function"!=typeof e&&(e=null),this.each(function(n){n.style.display=n.offsetWidth||n.offsetHeight?"none":t,e&&e.call(n)})},first:function(){return x(this.length?this[0]:[])},last:function(){return x(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(_)},related:function(e){return x(this.map(function(t){for(t=t[e];t&&1!==t.nodeType;)t=t[e];return t||0},function(e){return e}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(e,t){function n(e,t,n){for(var r in i)if(i.hasOwnProperty(r)){n=i[r],(t=f(r))&&z.test(n)&&!(t in K)&&(n+=X);try{e.style[t]=d(e,n)}catch(o){}}}var r,i=e;return void 0===t&&"string"==typeof e?(t=this[0],t?t===S||t===k?(r=t===S?x.doc():x.viewport(),"width"==e?r.width:"height"==e?r.height:""):(e=f(e))?et(t,e):null:null):("string"==typeof e&&(i={},i[e]=t),!Q.opasity&&"opacity"in i&&(i.filter=null!=i.opacity&&""!==i.opacity?"alpha(opacity="+100*i.opacity+")":"",i.zoom=e.zoom||1,delete i.opacity),this.each(n))},offset:function(e,t){if(e&&"object"==typeof e&&("number"==typeof e.top||"number"==typeof e.left))return this.each(function(t){h(t,e.left,e.top)});if("number"==typeof e||"number"==typeof t)return this.each(function(n){h(n,e,t)});if(!this[0])return{top:0,left:0,height:0,width:0};var n=this[0],r=n.ownerDocument.documentElement,i=n.getBoundingClientRect(),o=b(),s=n.offsetWidth,a=n.offsetHeight,u=i.top+o.y-Math.max(0,r&&r.clientTop,S.body.clientTop),l=i.left+o.x-Math.max(0,r&&r.clientLeft,S.body.clientLeft);return{top:u,left:l,height:a,width:s}},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],t=9==e.nodeType&&e.documentElement,n=t||!e.style||e.offsetWidth||e.offsetHeight?null:function(t){var n={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""};return t.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this),r=t?Math.max(e.body.scrollWidth,e.body.offsetWidth,t.scrollWidth,t.offsetWidth,t.clientWidth):e.offsetWidth,i=t?Math.max(e.body.scrollHeight,e.body.offsetHeight,t.scrollHeight,t.offsetHeight,t.clientHeight):e.offsetHeight;return n&&this.first().css(n),{height:i,width:r}},attr:function(e,t){var n,r=this[0];if("string"!=typeof e&&!(e instanceof String)){for(n in e)e.hasOwnProperty(n)&&this.attr(n,e[n]);return this}return"undefined"==typeof t?r?A.test(e)?P.test(e)&&"string"==typeof r[e]?!0:r[e]:"href"!=e&&"src"!=e||!Q.hrefExtended?r[F](e):r[F](e,2):null:this.each(function(n){A.test(e)?n[e]=d(n,t):n[W](e,d(n,t))})},removeAttr:function(e){return this.each(function(t){P.test(e)?t[e]=!1:t.removeAttribute(e)})},val:function(e){return"string"==typeof e||"number"==typeof e?this.attr("value",e):this.length?this[0].value:null},data:function(e,t){var n,i,u=this[0];return"undefined"==typeof t?u?(n=a(u),"undefined"==typeof e?(r(u.attributes,function(e){(i=(""+e.name).match(B))&&(n[o(i[1])]=l(e.value))}),n):("undefined"==typeof n[e]&&(n[e]=l(this.attr("data-"+s(e)))),n[e])):null:this.each(function(n){a(n)[e]=t})},remove:function(){return this.deepEach(u),this.detach()},empty:function(){return this.each(function(e){for(i(e.childNodes,u);e.firstChild;)e.removeChild(e.firstChild)})},detach:function(){return this.each(function(e){e[_]&&e[_].removeChild(e)})},scrollTop:function(e){return g.call(this,null,e,"y")},scrollLeft:function(e){return g.call(this,e,null,"x")}},x.setQueryEngine=function(e){G=e,delete x.setQueryEngine},x.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||m.prototype)[n]=e[n])},x.create=function(t){return"string"==typeof t&&""!==t?function(){if(H.test(t))return[w(t)];var e=t.match(/^\s*<([^\s>]+)/),n=S.createElement("div"),i=[],o=e?L[e[1].toLowerCase()]:null,s=o?o[2]+1:1,a=o&&o[3],u=_,l=Q.autoTbody&&o&&"<table>"==o[0]&&!/<tbody/i.test(t);for(n.innerHTML=o?o[0]+t+o[1]:t;s--;)n=n.firstChild;a&&n&&1!==n.nodeType&&(n=n.nextSibling);do e&&1!=n.nodeType||l&&(!n.tagName||"TBODY"==n.tagName)||i.push(n);while(n=n.nextSibling);return r(i,function(e){e[u]&&e[u].removeChild(e)}),i}():e(t)?[t.cloneNode(!0)]:[]},x.doc=function(){var e=x.viewport();return{width:Math.max(S.body.scrollWidth,C.scrollWidth,e.width),height:Math.max(S.body.scrollHeight,C.scrollHeight,e.height)}},x.firstChild=function(e){for(var t,n=e.childNodes,r=0,i=n&&n.length||0;i>r;r++)1===n[r].nodeType&&(t=n[i=r]);return t},x.viewport=function(){return{width:R?C.clientWidth:self.innerWidth,height:R?C.clientHeight:self.innerHeight}},x.isAncestor="compareDocumentPosition"in C?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:"contains"in C?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t[_];)if(t===e)return!0;return!1},x}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("lib/qwery/qwery",n):t[e]=n()}("qwery",this,function(){function e(){this.c={}}function t(e){return V.g(e)||V.s(e,"(^|\\s+)"+e+"(\\s+|$)",1)}function n(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n])}function r(e){for(var t=[],n=0,r=e.length;r>n;++n)g(e[n])?t=t.concat(e[n]):t[t.length]=e[n];return t}function i(e){for(var t=0,n=e.length,r=[];n>t;t++)r[t]=e[t];return r}function o(e){for(;(e=e.previousSibling)&&1!=e[_];);return e}function s(e){return e.match(Y)}function a(e,n,r,i,o,s,a,u,c,f,p){var h,d,g,m,y;if(1!==this[_])return!1;if(n&&"*"!==n&&this[C]&&this[C].toLowerCase()!==n)return!1;if(r&&(d=r.match(A))&&d[1]!==this.id)return!1;if(r&&(y=r.match(N)))for(h=y.length;h--;)if(!t(y[h].slice(1)).test(this.className))return!1;if(c&&v.pseudos[c]&&!v.pseudos[c](this,p))return!1;if(i&&!a){m=this.attributes;for(g in m)if(Object.prototype.hasOwnProperty.call(m,g)&&(m[g].name||g)==o)return this}return i&&!l(s,Z(this,o)||"",a)?!1:this}function u(e){return J.g(e)||J.s(e,e.replace(I,"\\$1"))}function l(e,t,n){switch(e){case"=":return t==n;case"^=":return t.match(U.g("^="+n)||U.s("^="+n,"^"+u(n),1));case"$=":return t.match(U.g("$="+n)||U.s("$="+n,u(n)+"$",1));case"*=":return t.match(U.g(n)||U.s(n,u(n),1));case"~=":return t.match(U.g("~="+n)||U.s("~="+n,"(?:^|\\s+)"+u(n)+"(?:\\s+|$)",1));case"|=":return t.match(U.g("|="+n)||U.s("|="+n,"^"+u(n)+"(-|$)",1))}return 0}function c(e,t){var r,i,o,u,l,c,f,h=[],d=[],g=t,m=K.g(e)||K.s(e,e.split(F)),v=e.match(W);if(!m.length)return h;if(u=(m=m.slice(0)).pop(),m.length&&(o=m[m.length-1].match(H))&&(g=y(t,o[1])),!g)return h;for(c=s(u),l=g!==t&&9!==g[_]&&v&&/^[+~]$/.test(v[v.length-1])?function(e){for(;g=g.nextSibling;)1==g[_]&&(c[1]?c[1]==g[C].toLowerCase():1)&&(e[e.length]=g);return e}([]):g[E](c[1]||"*"),r=0,i=l.length;i>r;r++)(f=a.apply(l[r],c))&&(h[h.length]=f);return m.length?(n(h,function(e){p(e,m,v)&&(d[d.length]=e)}),d):h}function f(e,t,n){if(h(t))return e==t;if(g(t))return!!~r(t).indexOf(e);for(var i,o,u=t.split(",");t=u.pop();)if(i=K.g(t)||K.s(t,t.split(F)),o=t.match(W),i=i.slice(0),a.apply(e,s(i.pop()))&&(!i.length||p(e,i,o,n)))return!0;return!1}function p(e,t,n,r){function i(e,r,u){for(;u=Q[n[r]](u,e);)if(h(u)&&a.apply(u,s(t[r]))){if(!r)return u;if(o=i(u,r-1,u))return o}}var o;return(o=i(e,t.length-1,e))&&(!r||G(o,r))}function h(e,t){return e&&"object"==typeof e&&(t=e[_])&&(1==t||9==t)}function d(e){var t,n,r=[];e:for(t=0;t<e.length;++t){for(n=0;n<r.length;++n)if(r[n]==e[t])continue e;r[r.length]=e[t]}return r}function g(e){return"object"==typeof e&&isFinite(e.length)}function m(e){return e?"string"==typeof e?v(e)[0]:!e[_]&&g(e)?e[0]:e:x}function y(e,t,n){return 9===e[_]?e.getElementById(t):e.ownerDocument&&((n=e.ownerDocument.getElementById(t))&&G(n,e)&&n||!G(e,e.ownerDocument)&&w('[id="'+t+'"]',e)[0])}function v(e,t){var n,o,s=m(t);if(!s||!e)return[];if(e===window||h(e))return!t||e!==window&&h(s)&&G(e,s)?[e]:[];if(e&&g(e))return r(e);if(n=e.match(X)){if(n[1])return(o=y(s,n[1]))?[o]:[];if(n[2])return i(s[E](n[2]));if(et&&n[3])return i(s[q](n[3]))}return w(e,s)}function b(e,t){return function(n){var r,i;return O.test(n)?(9!==e[_]&&((i=r=e.getAttribute("id"))||e.setAttribute("id",i="__qwerymeupscotty"),n='[id="'+i+'"]'+n,t(e.parentNode||e,n,!0),r||e.removeAttribute("id")),void 0):(n.length&&t(e,n,!1),void 0)}}var w,x=document,T=x.documentElement,q="getElementsByClassName",E="getElementsByTagName",k="querySelectorAll",S="useNativeQSA",C="tagName",_="nodeType",A=/#([\w\-]+)/,N=/\.[\w\-]+/g,H=/^#([\w\-]+)$/,j=/^\.([\w\-]+)$/,$=/^([\w\-]+)$/,D=/^([\w]+)?\.([\w\-]+)$/,O=/(^|,)\s*[>~+]/,L=/^\s+|\s*([,\s\+\~>]|$)\s*/g,P=/[\s\>\+\~]/,R=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,I=/([.*+?\^=!:${}()|\[\]\/\\])/g,M=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,z=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,B=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,X=new RegExp(H.source+"|"+$.source+"|"+j.source),W=new RegExp("("+P.source+")"+R.source,"g"),F=new RegExp(P.source+R.source),Y=new RegExp(M.source+"("+z.source+")?("+B.source+")?"),Q={" ":function(e){return e&&e!==T&&e.parentNode},">":function(e,t){return e&&e.parentNode==t.parentNode&&e.parentNode},"~":function(e){return e&&e.previousSibling},"+":function(e,t,n,r){return e?(n=o(e))&&(r=o(t))&&n==r&&n:!1}};e.prototype={g:function(e){return this.c[e]||void 0},s:function(e,t,n){return t=n?new RegExp(t):t,this.c[e]=t}};var V=new e,J=new e,U=new e,K=new e,G="compareDocumentPosition"in T?function(e,t){return 16==(16&t.compareDocumentPosition(e))}:"contains"in T?function(e,t){return t=9===t[_]||t==window?T:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},Z=function(){var e=x.createElement("p");return(e.innerHTML='<a href="#x">x</a>')&&"#x"!=e.firstChild.getAttribute("href")?function(e,t){return"class"===t?e.className:"href"===t||"src"===t?e.getAttribute(t,2):e.getAttribute(t)}:function(e,t){return e.getAttribute(t)}}(),et=!!x[q],tt=x.querySelector&&x[k],nt=function(e,t){var r,o,s=[];try{return 9!==t[_]&&O.test(e)?(n(r=e.split(","),b(t,function(e,t){o=e[k](t),1==o.length?s[s.length]=o.item(0):o.length&&(s=s.concat(i(o)))})),r.length>1&&s.length>1?d(s):s):i(t[k](e))}catch(a){}return rt(e,t)},rt=function(e,r){var i,o,s,a,u,l,f=[];if(e=e.replace(L,"$1"),o=e.match(D)){for(u=t(o[2]),i=r[E](o[1]||"*"),s=0,a=i.length;a>s;s++)u.test(i[s].className)&&(f[f.length]=i[s]);return f}return n(l=e.split(","),b(r,function(e,t,n){for(u=c(t,e),s=0,a=u.length;a>s;s++)(9===e[_]||n||G(u[s],r))&&(f[f.length]=u[s])})),l.length>1&&f.length>1?d(f):f},it=function(e){"undefined"!=typeof e[S]&&(w=e[S]?tt?nt:rt:rt)};return it({useNativeQSA:!0}),v.configure=it,v.uniq=d,v.is=f,v.pseudos={},v}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("lib/bean/bean",n):t[e]=n()}("bean",this,function(e,t){e=e||"bean",t=t||this;var n,r=window,i=t[e],o=/[^\.]*(?=\..*)\.|.*/,s=/\..*/,a="addEventListener",u="removeEventListener",l=document||{},c=l.documentElement||{},f=c[a],p=f?a:"attachEvent",h={},d=Array.prototype.slice,g=function(e,t){return e.split(t||" ")},m=function(e){return"string"==typeof e},y=function(e){return"function"==typeof e},v="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",b="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",w=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},g(v+(f?b:""))),x=function(){var e="compareDocumentPosition"in c?function(e,t){return t.compareDocumentPosition&&16===(16&t.compareDocumentPosition(e))}:"contains"in c?function(e,t){return t=9===t.nodeType||t===window?c:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}
}(),T=function(){var e=g("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(g("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),n=t.concat(g("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),i=e.concat(g("char charCode key keyCode keyIdentifier keyLocation location")),o=e.concat(g("data")),s=e.concat(g("touches targetTouches changedTouches scale rotation")),a=e.concat(g("data origin source")),u=e.concat(g("state")),f=/over|out/,p=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,i}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,r){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+l.body.scrollLeft+c.scrollLeft,n.clientY=e.clientY+l.body.scrollTop+c.scrollTop),f.test(r)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==r?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return o}},{reg:/^touch|^gesture/i,fix:function(){return s}},{reg:/^message$/i,fix:function(){return a}},{reg:/^popstate$/i,fix:function(){return u}},{reg:/.*/,fix:function(){return e}}],h={},d=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||r).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var i,o,s,a,u,l=e.type,c=e.target||e.srcElement;if(this.target=c&&3===c.nodeType?c.parentNode:c,n){if(u=h[l],!u)for(i=0,o=p.length;o>i;i++)if(p[i].reg.test(l)){h[l]=u=p[i].fix;break}for(a=u(e,this,l),i=a.length;i--;)!((s=a[i])in this)&&s in e&&(this[s]=e[s])}}};return d.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},d.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},d.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},d.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},d.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},d.prototype.clone=function(e){var t=new d(this,this.element,this.isNative);return t.currentTarget=e,t},d}(),q=function(e,t){return f||t||e!==l&&e!==r?e:c},E=function(){var e=function(e,t,n,r){var i=function(n,i){return t.apply(e,r?d.call(i,n?0:1).concat(r):i)},o=function(n,r){return t.__beanDel?t.__beanDel.ft(n.target,e):r},s=n?function(e){var t=o(e,this);return n.apply(t,arguments)?(e&&(e.currentTarget=t),i(e,arguments)):void 0}:function(e){return t.__beanDel&&(e=e.clone(o(e))),i(e,arguments)};return s.__beanDel=t.__beanDel,s},t=function(t,n,r,i,o,s,a){var u,l=x[n];"unload"==n&&(r=A(N,t,n,r,i)),l&&(l.condition&&(r=e(t,r,l.condition,s)),n=l.base||n),this.isNative=u=w[n]&&!!t[p],this.customType=!f&&!u&&n,this.element=t,this.type=n,this.original=i,this.namespaces=o,this.eventType=f||u?n:"propertychange",this.target=q(t,u),this[p]=!!this.target[p],this.root=a,this.handler=e(t,r,null,s)};return t.prototype.inNamespaces=function(e){var t,n,r=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&r++;return e.length===r},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),k=function(){var e={},t=function(n,r,i,o,s,a){var u=s?"r":"$";if(r&&"*"!=r){var l,c=0,f=e[u+r],p="*"==n;if(!f)return;for(l=f.length;l>c;c++)if((p||f[c].matches(n,i,o))&&!a(f[c],f,c,r))return}else for(var h in e)h.charAt(0)==u&&t(n,h.substr(1),i,o,s,a)},n=function(t,n,r,i){var o,s=e[(i?"r":"$")+n];if(s)for(o=s.length;o--;)if(!s[o].root&&s[o].matches(t,r,null))return!0;return!1},r=function(e,n,r,i){var o=[];return t(e,n,r,null,i,function(e){return o.push(e)}),o},i=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),r=(t.root?"r":"$")+t.type;return(e[r]||(e[r]=[])).push(t),n},o=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,r){return n.splice(r,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1})},s=function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n};return{has:n,get:r,put:i,del:o,entries:s}}(),S=function(e){n=arguments.length?e:l.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},C=function(e,t){if(f||!t||!e||e.propertyName=="_on"+t){var n=k.get(this,t||e.type,null,!1),r=n.length,i=0;for(e=new T(e,this,!0),t&&(e.type=t);r>i&&!e.isImmediatePropagationStopped();i++)n[i].removed||n[i].handler.call(this,e)}},_=f?function(e,t,n){e[n?a:u](t,C,!1)}:function(e,t,n,r){var i;n?(k.put(i=new E(e,r||t,function(t){C.call(e,t,r)},C,null,null,!0)),r&&null==e["_on"+r]&&(e["_on"+r]=0),i.target.attachEvent("on"+i.eventType,i.handler)):(i=k.get(e,r||t,C,!0)[0],i&&(i.target.detachEvent("on"+i.eventType,i.handler),k.del(i)))},A=function(e,t,n,r,i){return function(){r.apply(this,arguments),e(t,n,i)}},N=function(e,t,n,r){var i,o,a=t&&t.replace(s,""),u=k.get(e,a,null,!1),l={};for(i=0,o=u.length;o>i;i++)n&&u[i].original!==n||!u[i].inNamespaces(r)||(k.del(u[i]),!l[u[i].eventType]&&u[i][p]&&(l[u[i].eventType]={t:u[i].eventType,c:u[i].type}));for(i in l)k.has(e,l[i].t,null,!1)||_(e,l[i].t,!1,l[i].c)},H=function(e,t){var r=function(t,r){for(var i,o=m(e)?n(e,r):e;t&&t!==r;t=t.parentNode)for(i=o.length;i--;)if(o[i]===t)return t},i=function(e){var n=r(e.target,this);n&&t.apply(n,arguments)};return i.__beanDel={ft:r,selector:e},i},j=f?function(e,t,n){var i=l.createEvent(e?"HTMLEvents":"UIEvents");i[e?"initEvent":"initUIEvent"](t,!0,!0,r,1),n.dispatchEvent(i)}:function(e,t,n){n=q(n,e),e?n.fireEvent("on"+t,l.createEventObject()):n["_on"+t]++},$=function(e,t,n){var r,i,a,u,l=m(t);if(l&&t.indexOf(" ")>0){for(t=g(t),u=t.length;u--;)$(e,t[u],n);return e}if(i=l&&t.replace(s,""),i&&x[i]&&(i=x[i].base),!t||l)(a=l&&t.replace(o,""))&&(a=g(a,".")),N(e,i,n,a);else if(y(t))N(e,null,t);else for(r in t)t.hasOwnProperty(r)&&$(e,r,t[r]);return e},D=function(e,t,r,i){var a,u,l,c,f,m,v;{if(void 0!==r||"object"!=typeof t){for(y(r)?(f=d.call(arguments,3),i=a=r):(a=i,f=d.call(arguments,4),i=H(r,a,n)),l=g(t),this===h&&(i=A($,e,t,i,a)),c=l.length;c--;)v=k.put(m=new E(e,l[c].replace(s,""),i,a,g(l[c].replace(o,""),"."),f,!1)),m[p]&&v&&_(e,m.eventType,!0,m.customType);return e}for(u in t)t.hasOwnProperty(u)&&D.call(this,e,u,t[u])}},O=function(e,t,n,r){return D.apply(null,m(n)?[e,n,t,r].concat(arguments.length>3?d.call(arguments,5):[]):d.call(arguments))},L=function(){return D.apply(h,arguments)},P=function(e,t,n){var r,i,a,u,l,c=g(t);for(r=c.length;r--;)if(t=c[r].replace(s,""),(u=c[r].replace(o,""))&&(u=g(u,".")),u||n||!e[p])for(l=k.get(e,t,null,!1),n=[!1].concat(n),i=0,a=l.length;a>i;i++)l[i].inNamespaces(u)&&l[i].handler.apply(e,n);else j(w[t],t,e);return e},R=function(e,t,n){for(var r,i,o=k.get(t,n,null,!1),s=o.length,a=0;s>a;a++)o[a].original&&(r=[e,o[a].type],(i=o[a].handler.__beanDel)&&r.push(i.selector),r.push(o[a].original),D.apply(null,r));return e},I={on:D,add:O,one:L,off:$,remove:$,clone:R,fire:P,Event:T,setSelectorEngine:S,noConflict:function(){return t[e]=i,this}};if(r.attachEvent){var M=function(){var e,t=k.entries();for(e in t)t[e].type&&"unload"!==t[e].type&&$(t[e].element,t[e].type);r.detachEvent("onunload",M),r.CollectGarbage&&r.CollectGarbage()};r.attachEvent("onunload",M)}return S(),I}),define("src/main",["lib/reqwest/reqwest","lib/bonzo/bonzo","lib/qwery/qwery","lib/bean/bean"],function(e,t,n,r){function i(e,r){return t(n(e,r))}function o(){var e=document.title,t=window.location,n="";window.getSelection?n=window.getSelection():document.getSelection?n=document.getSelection():document.selection&&(n=document.selection.createRange().text),p.url=t.toString(),p.title=e.toString(),p.content=n.toString()}function s(){var e,n,s,u,l,h,d;i("#webItemBookmarkletOverlay").length&&i("#webItemBookmarkletOverlay").remove(),o(),e={color:"#000","font-family":"Arial,sans-serif","font-size":"14px"},n={width:"100%",height:"100%",position:"fixed",top:"0",left:"0",zindex:"2147483647",background:"rgba(24,24,24,0.8)"},s={width:"640px",height:"480px",position:"absolute",background:"#fff",left:"50%",top:"50%",border:"1px solid #fff",padding:"10px",marginLeft:"-320px",marginTop:"-240px"},u={},l='<div id="webItemBookmarkletOverlay"></div>',h="<form><h1>Save this web item</h1>",h+='<div class="summary"><ul>',h+="<li><b>Title: </b>"+p.title+"</li>",h+="<li><b>URL: </b>"+p.url+"</li>",p.content.length&&(h+='<li><b>Excerpt:</b><div class="excerpt">“'+p.content+"”</div></li>"),h+="</ul></div>",h+='<div class="forminput"><label>Comment:</label><textarea id="webItemBookmarkletComment"></textarea></div><div class="forminput"><label>Tags:</label><textarea id="webItemBookmarkletTags"></textarea></div><div><input type="submit" value="save" id="webitemsave"><a href="#" id="webitemcancel">Cancel</a></form>',f=t(t.create(l)),d=t(t.create(h)),f.append(d),t(document.body).append(f),r.on(d.get(0),"click",i("#webitemcancel"),function(e){e.preventDefault(),c()}),r.on(d.get(0),"submit",function(e){e.preventDefault(),a()})}function a(){p.comment=i("#webItemBookmarkletComment").attr("value"),p.tags=i("#webItemBookmarkletTags").attr("value");e({url:"http://ontheweb.jit.su/webitem",method:"post",type:"json",processData:!1,crossOrigin:!0,data:JSON.stringify(p),contentType:"application/json",success:u,error:l})}function u(){var e=i("form",f).empty().append("<h1>Your Web Item was saved succesfully</h1><button>OK</button>");e.css({color:"#000","font-family":"Arial,sans-serif"}),r.on(e.get(0),"click",i("button"),function(e){e.preventDefault(),c()})}function l(e){var t=JSON.parse(e.response).message,n=i("form",f).append("<h1>There was an error saving your Web Item</h1><p>"+t+"</p><button>Ok</button> (You can try again)");i(n).css({color:"#000","font-family":"Arial,sans-serif"}),r.on(n.get(0),"click",i("button"),function(e){e.preventDefault(),c()})}function c(){f.remove(),i("#webItemBookmarkletScript, #webItemBookmarkletStyle").remove()}var f,p={};r.setSelectorEngine(n),s()}),require(["src/main"])}();