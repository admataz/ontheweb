var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){(n||!hasProp(e,i))&&(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,n,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function t(e){var t,n,r=e.length;for(t=0;r>t;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var i,o,s,a,u,c,l,f,p,d,h,m=n&&n.split("/"),g=m,y=E.map,v=y&&y["*"];if(e&&"."===e.charAt(0)&&(n?(g=m.slice(0,m.length-1),e=e.split("/"),l=e.length-1,E.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),e=g.concat(e),t(e),e=e.join("/")):0===e.indexOf("./")&&(e=e.substring(2))),r&&y&&(m||v)){s=e.split("/");e:for(a=s.length;a>0;a-=1){if(c=s.slice(0,a).join("/"),m)for(u=m.length;u>0;u-=1)if(o=getOwn(y,m.slice(0,u).join("/")),o&&(o=getOwn(o,c))){f=o,p=a;break e}!d&&v&&getOwn(v,c)&&(d=getOwn(v,c),h=a)}!f&&d&&(f=d,p=h),f&&(s.splice(0,p,f),e=s.join("/"))}return i=getOwn(E.pkgs,e),i?i:e}function r(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName?(t.parentNode.removeChild(t),!0):void 0})}function i(e){var t=getOwn(E.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),w.require.undef(e),w.require([e]),!0):void 0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,r,i){var s,a,u,c,l=null,f=t?t.name:null,p=e,d=!0,h="";return e||(d=!1,e="_@r"+(j+=1)),c=o(e),l=c[0],e=c[1],l&&(l=n(l,f,i),a=getOwn(C,l)),e&&(l?h=a&&a.normalize?a.normalize(e,function(e){return n(e,f,i)}):n(e,f,i):(h=n(e,f,i),c=o(h),l=c[0],h=c[1],r=!0,s=w.nameToUrl(h))),u=!l||a||r?"":"_unnormalized"+(M+=1),{prefix:l,name:h,parentMap:t,unnormalized:!!u,url:s,originalName:p,isDefine:d,id:(l?l+"!"+h:h)+u}}function a(e){var t=e.id,n=getOwn(S,t);return n||(n=S[t]=new w.Module(e)),n}function u(e,t,n){var r=e.id,i=getOwn(S,r);!hasProp(C,r)||i&&!i.defineEmitComplete?(i=a(e),i.error&&"error"===t?n(i.error):i.on(t,n)):"defined"===t&&n(C[r])}function c(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(S,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function l(){globalDefQueue.length&&(apsp.apply(A,[A.length,0].concat(globalDefQueue)),globalDefQueue=[])}function f(e){delete S[e],delete k[e]}function p(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var o=r.id,s=getOwn(S,o);!s||e.depMatched[i]||n[o]||(getOwn(t,o)?(e.defineDep(i,C[o]),e.check()):p(s,t,n))}),n[r]=!0)}function d(){var e,t,n=1e3*E.waitSeconds,o=n&&w.startTime+n<(new Date).getTime(),s=[],a=[],u=!1,l=!0;if(!v){if(v=!0,eachProp(k,function(e){var n=e.map,c=n.id;if(e.enabled&&(n.isDefine||a.push(e),!e.error))if(!e.inited&&o)i(c)?(t=!0,u=!0):(s.push(c),r(c));else if(!e.inited&&e.fetched&&n.isDefine&&(u=!0,!n.prefix))return l=!1}),o&&s.length)return e=makeError("timeout","Load timeout for modules: "+s,null,s),e.contextName=w.contextName,c(e);l&&each(a,function(e){p(e,{},{})}),o&&!t||!u||!isBrowser&&!isWebWorker||q||(q=setTimeout(function(){q=0,d()},50)),v=!1}}function h(e){hasProp(C,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,w.onScriptLoad,"load","onreadystatechange"),m(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function y(){var e;for(l();A.length;){if(e=A.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}}var v,b,w,x,q,E={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},S={},k={},T={},A=[],C={},O={},N={},j=1,M=1;return x={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=C[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(E.config,e.map.id)||{}},exports:x.exports(e)}}},b=function(e){this.events=getOwn(T,e.id)||{},this.map=e,this.shim=getOwn(E.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?(w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})),void 0):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;O[e]||(O[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=w.execCb(n,o,r,i)}catch(s){e=s}else i=w.execCb(n,o,r,i);if(this.map.isDefine&&void 0===i&&(t=this.module,t?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else i=o;this.exports=i,this.map.isDefine&&!this.ignore&&(C[n]=i,req.onResourceLoad&&req.onResourceLoad(w,this.map,this.depMaps)),f(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=s(e.prefix);this.depMaps.push(r),u(r,"defined",bind(this,function(r){var i,o,l,p=getOwn(N,this.map.id),d=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,m=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(d=r.normalize(d,function(e){return n(e,h,!0)})||""),o=s(e.prefix+"!"+d,this.map.parentMap),u(o,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),l=getOwn(S,o.id),l&&(this.depMaps.push(o),this.events.error&&l.on("error",bind(this,function(e){this.emit("error",e)})),l.enable()),void 0):p?(this.map.url=w.nameToUrl(p),this.load(),void 0):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(S,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&f(e.map.id)}),c(e)}),i.fromText=bind(this,function(n,r){var o=e.name,u=s(o),l=useInteractive;r&&(n=r),l&&(useInteractive=!1),a(u),hasProp(E.config,t)&&(E.config[o]=E.config[t]);try{req.exec(n)}catch(f){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+f,f,[t]))}l&&(useInteractive=!0),this.depMaps.push(u),w.completeLoad(o),m([o],i)}),r.load(e.name,m,i,E),void 0)})),w.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){k[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(x,e.id))return this.depExports[t]=i(this),void 0;this.depCount+=1,u(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&u(e,"error",bind(this,this.errback))}n=e.id,r=S[n],hasProp(x,n)||!r||r.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(S,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:E,contextName:e,registry:S,defined:C,urlFetched:O,defQueue:A,Module:b,makeModuleMap:s,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=E.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(E[t]||(E[t]={}),mixin(E[t],e,!0,!0)):E[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(N[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),t[n]=e}),E.shim=t),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(E.paths[n]=e.location),E.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(S,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function o(n,r,u){var l,f,p;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?c(makeError("requireargs","Invalid require call"),u):t&&hasProp(x,n)?x[n](S[t.id]):req.get?req.get(w,n,t,o):(f=s(n,t,!1,!0),l=f.id,hasProp(C,l)?C[l]:c(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(y(),w.nextTick(function(){y(),p=a(s(null,t)),p.skipMap=i.skipMap,p.init(n,r,u,{enabled:!0}),d()}),o)}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),o=e.split("/")[0],s="."===o||".."===o;return-1!==i&&(!s||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),w.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(C,s(e,t,!1,!0).id)},specified:function(e){return e=s(e,t,!1,!0).id,hasProp(C,e)||hasProp(S,e)}}),t||(o.undef=function(e){l();var n=s(e,t,!0),i=getOwn(S,e);r(e),delete C[e],delete O[n.url],delete T[e],eachReverse(A,function(t,n){t[0]===e&&A.splice(n,1)}),i&&(i.events.defined&&(T[e]=i.events),f(e))}),o},enable:function(e){var t=getOwn(S,e.id);t&&a(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(E.shim,e)||{},s=o.exports;for(l();A.length;){if(n=A.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);h(n)}if(r=getOwn(S,e),!t&&!hasProp(C,e)&&r&&!r.inited){if(!(!E.enforceDefine||s&&getGlobal(s)))return i(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));h([e,o.deps||[],o.exportsFn])}d()},nameToUrl:function(e,t,n){var r,i,o,s,a,u,c,l=getOwn(E.pkgs,e);if(l&&(e=l),c=getOwn(N,e))return w.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))a=e+(t||"");else{for(r=E.paths,i=e.split("/"),o=i.length;o>0;o-=1)if(s=i.slice(0,o).join("/"),u=getOwn(r,s)){isArray(u)&&(u=u[0]),i.splice(0,o,u);break}a=i.join("/"),a+=t||(/^data\:|\?/.test(a)||n?"":".js"),a=("/"===a.charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":E.baseUrl)+a}return E.urlArgs?a+((-1===a.indexOf("?")?"?":"&")+E.urlArgs):a},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);return i(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.10",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,o,s=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=r):e=[]),o&&o.context&&(s=o.context),i=getOwn(contexts,s),i||(i=contexts[s]=req.s.newContext(s)),o&&i.configure(o),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var r,i=e&&e.config||{};if(isBrowser)return r=req.createNode(i,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("lib/requirejs/require",function(){}),!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("lib/reqwest/reqwest",n):t[e]=n()}("reqwest",this,function(){function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,twoHundo.test(e.request.status)?t(e.request):n(e.request)),void 0)}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"],t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var i=uniqid++,o=e.jsonpCallback||"callback",s=e.jsonpCallbackName||reqwest.getcallbackPrefix(i),a=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),u=r.match(a),c=doc.createElement("script"),l=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return u?"?"===u[3]?r=r.replace(a,"$1="+s):s=u[3]:r=urlappend(r,o+"="+s),win[s]=generalCallback,c.type="text/javascript",c.src=r,c.async=!0,"undefined"==typeof c.onreadystatechange||f||(c.event="onclick",c.htmlFor=c.id="_reqwest_"+i),c.onload=c.onreadystatechange=function(){return c[readyState]&&"complete"!==c[readyState]&&"loaded"!==c[readyState]||l?!1:(c.onload=c.onreadystatechange=null,c.onclick&&c.onclick(),t(lastValue),lastValue=void 0,head.removeChild(c),l=1,void 0)},head.appendChild(c),{abort:function(){c.onload=c.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(c),l=1}}}function getRequest(e,t){var n,r=this.o,i=(r.method||"GET").toUpperCase(),o="string"==typeof r?r:r.url,s=r.processData!==!1&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,a=!1;return"jsonp"!=r.type&&"GET"!=i||!s||(o=urlappend(o,s),s=null),"jsonp"==r.type?handleJsonp(r,e,t,o):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(i,o,r.async===!1?!1:!0),setHeaders(n,r),setCredentials(n,r),win[xDomainRequest]&&n instanceof win[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},a=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),a?setTimeout(function(){n.send(s)},200):n.send(s),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){var t=e.match(/\.(json|jsonp|html|xml)(\?|$)/);return t?t[1]:"js"}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this,type=o.type||setType(this.url);fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,i,o,s=e.name,a=e.tagName.toLowerCase(),u=function(e){e&&!e.disabled&&t(s,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&s)switch(a){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),i=e.value,(!(n||r)||e.checked)&&t(s,normalize(n&&""===i?"on":i)));break;case"textarea":t(s,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())u(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&u(e.options[o])}}function eachFormElement(){var e,t,n=this,r=function(e,t){var r,i,o;for(r=0;r<t.length;r++)for(o=e[byTag](t[r]),i=0;i<o.length;i++)serial(o[i],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var i,o,s,a=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)s=t[o],n||a.test(e)?r(e,s):buildParams(e+"["+("object"==typeof s?o:"")+"]",s,n,r);else if(t&&"[object Object]"===t.toString())for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}var win=window,doc=document,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=win[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,i=t||!1,o=[],s=encodeURIComponent,a=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=s(e)+"="+s(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)a(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],i,a);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("lib/bonzo/bonzo",n):t[e]=n()}("bonzo",this,function(){function e(e){return e&&e.nodeName&&(1==e.nodeType||11==e.nodeType)}function t(t,n,r){var i,o,s;if("string"==typeof t)return x.create(t);if(e(t)&&(t=[t]),r){for(s=[],i=0,o=t.length;o>i;i++)s[i]=y(n,t[i]);return s}return t}function n(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function r(e,t,n,r){for(var i,o=0,s=e.length;s>o;o++)i=r?e.length-o-1:o,t.call(n||e[i],e[i],i,e);return e}function i(t,n,r){for(var o=0,s=t.length;s>o;o++)e(t[o])&&(i(t[o].childNodes,n,r),n.call(r||t[o],t[o],o,t));return t}function o(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function s(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function a(e){e[X]("data-node-uid")||e[W]("data-node-uid",++B);var t=e[X]("data-node-uid");return $[t]||($[t]={})}function u(e){var t=e[X]("data-node-uid");t&&delete $[t]}function c(e){var t;try{return null===e||void 0===e?void 0:"true"===e?!0:"false"===e?!1:"null"===e?null:(t=parseFloat(e))==e?t:e}catch(n){}return void 0}function l(e,t,n){for(var r=0,i=e.length;i>r;++r)if(t.call(n||null,e[r],r,e))return!0;return!1}function f(e){return"transform"==e&&(e=Q.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=Q.transform+"Origin")||"float"==e&&(e=Q.cssFloat),e?o(e):null}function p(e,n,i,o){var s=0,a=n||this,u=[],c=K&&"string"==typeof e&&"<"!=e.charAt(0)?K(e):e;return r(t(c),function(e,t){r(a,function(n){i(e,u[s++]=t>0?y(a,n):n)},null,o)},this,o),a.length=s,r(u,function(e){a[--s]=e},null,!o),a}function d(e,t,n){var r=x(e),i=r.css("position"),o=r.offset(),s="relative",a=i==s,u=[parseInt(r.css("left"),10),parseInt(r.css("top"),10)];"static"==i&&(r.css("position",s),i=s),isNaN(u[0])&&(u[0]=a?0:e.offsetLeft),isNaN(u[1])&&(u[1]=a?0:e.offsetTop),null!=t&&(e.style.left=t-o.left+u[0]+F),null!=n&&(e.style.top=n-o.top+u[1]+F)}function h(e,t){return"function"==typeof t?t(e):t}function m(e,t,n){var r=this[0];return r?null==e&&null==t?(v(r)?b():{x:r.scrollLeft,y:r.scrollTop})[n]:(v(r)?k.scrollTo(e,t):(null!=e&&(r.scrollLeft=e),null!=t&&(r.scrollTop=t)),this):this}function g(e){if(this.length=0,e){e="string"==typeof e||e.nodeType||"undefined"==typeof e.length?[e]:e,this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function y(e,t){var n,r,i,o=t.cloneNode(!0);if(e.$&&"function"==typeof e.cloneEvents)for(e.$(o).cloneEvents(t),n=e.$(o).find("*"),r=e.$(t).find("*"),i=0;i<r.length;i++)e.$(n[i]).cloneEvents(r[i]);return o}function v(e){return e===k||/^(?:body|html)$/i.test(e.tagName)}function b(){return{x:k.pageXOffset||A.scrollLeft,y:k.pageYOffset||A.scrollTop}}function w(e){var t=document.createElement("script"),n=e.match(j);return t.src=n[1],t}function x(e){return new g(e)}var q,E,S,k=window,T=k.document,A=T.documentElement,C="parentNode",O=/^(checked|value|selected|disabled)$/i,N=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,j=/\s*<script +src=['"]([^'"]+)['"]>/,M=["<table>","</table>",1],_=["<table><tbody><tr>","</tr></tbody></table>",3],D=["<select>","</select>",1],P=["_","",0,1],R={thead:M,tbody:M,tfoot:M,colgroup:M,caption:M,tr:["<table><tbody>","</tbody></table>",2],th:_,td:_,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:D,optgroup:D,script:P,style:P,link:P,param:P,base:P},H=/^(checked|selected|disabled)$/,L=/msie/i.test(navigator.userAgent),$={},B=0,I=/^-?[\d\.]+$/,z=/^data-(.+)$/,F="px",W="setAttribute",X="getAttribute",U="getElementsByTagName",Q=function(){var e=T.createElement("p");return e.innerHTML='<a href="#x">x</a><table style="float:left;"></table>',{hrefExtended:"#x"!=e[U]("a")[0][X]("href"),autoTbody:0!==e[U]("tbody").length,computedStyle:T.defaultView&&T.defaultView.getComputedStyle,cssFloat:e[U]("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var t,n=["transform","webkitTransform","MozTransform","OTransform","msTransform"];for(t=0;t<n.length;t++)if(n[t]in e.style)return n[t]}(),classList:"classList"in e,opasity:function(){return"undefined"!=typeof T.createElement("a").style.opacity}()}}(),Y=/(^\s*|\s*$)/g,V=/\s+/,J=String.prototype.toString,G={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},K=T.querySelectorAll&&function(e){return T.querySelectorAll(e)},Z=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(Y,"")},et=Q.computedStyle?function(e,t){var n=null,r=T.defaultView.getComputedStyle(e,"");return r&&(n=r[t]),e.style[t]||n}:L&&A.currentStyle?function(e,t){var n,r;if("opacity"==t&&!Q.opasity){n=100;try{n=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(i){try{n=e.filters("alpha").opacity}catch(o){}}return n/100}return r=e.currentStyle?e.currentStyle[t]:null,e.style[t]||r}:function(e,t){return e.style[t]};return Q.classList?(q=function(e,t){return e.classList.contains(t)},E=function(e,t){e.classList.add(t)},S=function(e,t){e.classList.remove(t)}):(q=function(e,t){return n(t).test(e.className)},E=function(e,t){e.className=Z(e.className+" "+t)},S=function(e,t){e.className=Z(e.className.replace(n(t)," "))}),g.prototype={get:function(e){return this[e]||null},each:function(e,t){return r(this,e,t)},deepEach:function(e,t){return i(this,e,t)},map:function(e,t){var n,r,i=[];for(r=0;r<this.length;r++)n=e.call(this,this[r],r),t?t(n)&&i.push(n):i.push(n);return i},html:function(e,n){var i=n?void 0===A.textContent?"innerText":"textContent":"innerHTML",o=this,s=function(n,i){r(t(e,o,i),function(e){n.appendChild(e)})},a=function(t,r){try{if(n||"string"==typeof e&&!N.test(t.tagName))return t[i]=e}catch(o){}s(t,r)};return"undefined"!=typeof e?this.empty().each(a):this[0]?this[0][i]:""},text:function(e){return this.html(e,!0)},append:function(e){var n=this;return this.each(function(i,o){r(t(e,n,o),function(e){i.appendChild(e)})})},prepend:function(e){var n=this;return this.each(function(i,o){var s=i.firstChild;r(t(e,n,o),function(e){i.insertBefore(e,s)})})},appendTo:function(e,t){return p.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return p.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)
},1)},before:function(e){var n=this;return this.each(function(i,o){r(t(e,n,o),function(e){i[C].insertBefore(e,i)})})},after:function(e){var n=this;return this.each(function(i,o){r(t(e,n,o),function(e){i[C].insertBefore(e,i.nextSibling)},null,1)})},insertBefore:function(e,t){return p.call(this,e,t,function(e,t){e[C].insertBefore(t,e)})},insertAfter:function(e,t){return p.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[C].insertBefore(t,n):e[C].appendChild(t)},1)},replaceWith:function(e){return x(t(e)).insertAfter(this),this.remove()},clone:function(e){var t,n,r=[];for(n=0,t=this.length;t>n;n++)r[n]=y(e||this,this[n]);return x(r)},addClass:function(e){return e=J.call(e).split(V),this.each(function(t){r(e,function(e){e&&!q(t,h(t,e))&&E(t,h(t,e))})})},removeClass:function(e){return e=J.call(e).split(V),this.each(function(t){r(e,function(e){e&&q(t,h(t,e))&&S(t,h(t,e))})})},hasClass:function(e){return e=J.call(e).split(V),l(this,function(t){return l(e,function(e){return e&&q(t,e)})})},toggleClass:function(e,t){return e=J.call(e).split(V),this.each(function(n){r(e,function(e){e&&("undefined"!=typeof t?t?!q(n,e)&&E(n,e):S(n,e):q(n,e)?S(n,e):E(n,e))})})},show:function(e){return e="string"==typeof e?e:"",this.each(function(t){t.style.display=e})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,t){return t="string"==typeof t?t:"","function"!=typeof e&&(e=null),this.each(function(n){n.style.display=n.offsetWidth||n.offsetHeight?"none":t,e&&e.call(n)})},first:function(){return x(this.length?this[0]:[])},last:function(){return x(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(C)},related:function(e){return x(this.map(function(t){for(t=t[e];t&&1!==t.nodeType;)t=t[e];return t||0},function(e){return e}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(e,t){function n(e,t,n){for(var r in i)if(i.hasOwnProperty(r)){n=i[r],(t=f(r))&&I.test(n)&&!(t in G)&&(n+=F);try{e.style[t]=h(e,n)}catch(o){}}}var r,i=e;return void 0===t&&"string"==typeof e?(t=this[0],t?t===T||t===k?(r=t===T?x.doc():x.viewport(),"width"==e?r.width:"height"==e?r.height:""):(e=f(e))?et(t,e):null:null):("string"==typeof e&&(i={},i[e]=t),!Q.opasity&&"opacity"in i&&(i.filter=null!=i.opacity&&""!==i.opacity?"alpha(opacity="+100*i.opacity+")":"",i.zoom=e.zoom||1,delete i.opacity),this.each(n))},offset:function(e,t){if(e&&"object"==typeof e&&("number"==typeof e.top||"number"==typeof e.left))return this.each(function(t){d(t,e.left,e.top)});if("number"==typeof e||"number"==typeof t)return this.each(function(n){d(n,e,t)});if(!this[0])return{top:0,left:0,height:0,width:0};var n=this[0],r=n.ownerDocument.documentElement,i=n.getBoundingClientRect(),o=b(),s=n.offsetWidth,a=n.offsetHeight,u=i.top+o.y-Math.max(0,r&&r.clientTop,T.body.clientTop),c=i.left+o.x-Math.max(0,r&&r.clientLeft,T.body.clientLeft);return{top:u,left:c,height:a,width:s}},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],t=9==e.nodeType&&e.documentElement,n=t||!e.style||e.offsetWidth||e.offsetHeight?null:function(t){var n={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""};return t.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this),r=t?Math.max(e.body.scrollWidth,e.body.offsetWidth,t.scrollWidth,t.offsetWidth,t.clientWidth):e.offsetWidth,i=t?Math.max(e.body.scrollHeight,e.body.offsetHeight,t.scrollHeight,t.offsetHeight,t.clientHeight):e.offsetHeight;return n&&this.first().css(n),{height:i,width:r}},attr:function(e,t){var n,r=this[0];if("string"!=typeof e&&!(e instanceof String)){for(n in e)e.hasOwnProperty(n)&&this.attr(n,e[n]);return this}return"undefined"==typeof t?r?O.test(e)?H.test(e)&&"string"==typeof r[e]?!0:r[e]:"href"!=e&&"src"!=e||!Q.hrefExtended?r[X](e):r[X](e,2):null:this.each(function(n){O.test(e)?n[e]=h(n,t):n[W](e,h(n,t))})},removeAttr:function(e){return this.each(function(t){H.test(e)?t[e]=!1:t.removeAttribute(e)})},val:function(e){return"string"==typeof e||"number"==typeof e?this.attr("value",e):this.length?this[0].value:null},data:function(e,t){var n,i,u=this[0];return"undefined"==typeof t?u?(n=a(u),"undefined"==typeof e?(r(u.attributes,function(e){(i=(""+e.name).match(z))&&(n[o(i[1])]=c(e.value))}),n):("undefined"==typeof n[e]&&(n[e]=c(this.attr("data-"+s(e)))),n[e])):null:this.each(function(n){a(n)[e]=t})},remove:function(){return this.deepEach(u),this.detach()},empty:function(){return this.each(function(e){for(i(e.childNodes,u);e.firstChild;)e.removeChild(e.firstChild)})},detach:function(){return this.each(function(e){e[C]&&e[C].removeChild(e)})},scrollTop:function(e){return m.call(this,null,e,"y")},scrollLeft:function(e){return m.call(this,e,null,"x")}},x.setQueryEngine=function(e){K=e,delete x.setQueryEngine},x.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||g.prototype)[n]=e[n])},x.create=function(t){return"string"==typeof t&&""!==t?function(){if(j.test(t))return[w(t)];var e=t.match(/^\s*<([^\s>]+)/),n=T.createElement("div"),i=[],o=e?R[e[1].toLowerCase()]:null,s=o?o[2]+1:1,a=o&&o[3],u=C,c=Q.autoTbody&&o&&"<table>"==o[0]&&!/<tbody/i.test(t);for(n.innerHTML=o?o[0]+t+o[1]:t;s--;)n=n.firstChild;a&&n&&1!==n.nodeType&&(n=n.nextSibling);do e&&1!=n.nodeType||c&&(!n.tagName||"TBODY"==n.tagName)||i.push(n);while(n=n.nextSibling);return r(i,function(e){e[u]&&e[u].removeChild(e)}),i}():e(t)?[t.cloneNode(!0)]:[]},x.doc=function(){var e=x.viewport();return{width:Math.max(T.body.scrollWidth,A.scrollWidth,e.width),height:Math.max(T.body.scrollHeight,A.scrollHeight,e.height)}},x.firstChild=function(e){for(var t,n=e.childNodes,r=0,i=n&&n.length||0;i>r;r++)1===n[r].nodeType&&(t=n[i=r]);return t},x.viewport=function(){return{width:L?A.clientWidth:self.innerWidth,height:L?A.clientHeight:self.innerHeight}},x.isAncestor="compareDocumentPosition"in A?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:"contains"in A?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t[C];)if(t===e)return!0;return!1},x}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("lib/qwery/qwery",n):t[e]=n()}("qwery",this,function(){function e(){this.c={}}function t(e){return Y.g(e)||Y.s(e,"(^|\\s+)"+e+"(\\s+|$)",1)}function n(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n])}function r(e){for(var t=[],n=0,r=e.length;r>n;++n)m(e[n])?t=t.concat(e[n]):t[t.length]=e[n];return t}function i(e){for(var t=0,n=e.length,r=[];n>t;t++)r[t]=e[t];return r}function o(e){for(;(e=e.previousSibling)&&1!=e[C];);return e}function s(e){return e.match(U)}function a(e,n,r,i,o,s,a,u,l,f,p){var d,h,m,g,y;if(1!==this[C])return!1;if(n&&"*"!==n&&this[A]&&this[A].toLowerCase()!==n)return!1;if(r&&(h=r.match(O))&&h[1]!==this.id)return!1;if(r&&(y=r.match(N)))for(d=y.length;d--;)if(!t(y[d].slice(1)).test(this.className))return!1;if(l&&v.pseudos[l]&&!v.pseudos[l](this,p))return!1;if(i&&!a){g=this.attributes;for(m in g)if(Object.prototype.hasOwnProperty.call(g,m)&&(g[m].name||m)==o)return this}return i&&!c(s,Z(this,o)||"",a)?!1:this}function u(e){return V.g(e)||V.s(e,e.replace($,"\\$1"))}function c(e,t,n){switch(e){case"=":return t==n;case"^=":return t.match(J.g("^="+n)||J.s("^="+n,"^"+u(n),1));case"$=":return t.match(J.g("$="+n)||J.s("$="+n,u(n)+"$",1));case"*=":return t.match(J.g(n)||J.s(n,u(n),1));case"~=":return t.match(J.g("~="+n)||J.s("~="+n,"(?:^|\\s+)"+u(n)+"(?:\\s+|$)",1));case"|=":return t.match(J.g("|="+n)||J.s("|="+n,"^"+u(n)+"(-|$)",1))}return 0}function l(e,t){var r,i,o,u,c,l,f,d=[],h=[],m=t,g=G.g(e)||G.s(e,e.split(X)),v=e.match(W);if(!g.length)return d;if(u=(g=g.slice(0)).pop(),g.length&&(o=g[g.length-1].match(j))&&(m=y(t,o[1])),!m)return d;for(l=s(u),c=m!==t&&9!==m[C]&&v&&/^[+~]$/.test(v[v.length-1])?function(e){for(;m=m.nextSibling;)1==m[C]&&(l[1]?l[1]==m[A].toLowerCase():1)&&(e[e.length]=m);return e}([]):m[S](l[1]||"*"),r=0,i=c.length;i>r;r++)(f=a.apply(c[r],l))&&(d[d.length]=f);return g.length?(n(d,function(e){p(e,g,v)&&(h[h.length]=e)}),h):d}function f(e,t,n){if(d(t))return e==t;if(m(t))return!!~r(t).indexOf(e);for(var i,o,u=t.split(",");t=u.pop();)if(i=G.g(t)||G.s(t,t.split(X)),o=t.match(W),i=i.slice(0),a.apply(e,s(i.pop()))&&(!i.length||p(e,i,o,n)))return!0;return!1}function p(e,t,n,r){function i(e,r,u){for(;u=Q[n[r]](u,e);)if(d(u)&&a.apply(u,s(t[r]))){if(!r)return u;if(o=i(u,r-1,u))return o}}var o;return(o=i(e,t.length-1,e))&&(!r||K(o,r))}function d(e,t){return e&&"object"==typeof e&&(t=e[C])&&(1==t||9==t)}function h(e){var t,n,r=[];e:for(t=0;t<e.length;++t){for(n=0;n<r.length;++n)if(r[n]==e[t])continue e;r[r.length]=e[t]}return r}function m(e){return"object"==typeof e&&isFinite(e.length)}function g(e){return e?"string"==typeof e?v(e)[0]:!e[C]&&m(e)?e[0]:e:x}function y(e,t,n){return 9===e[C]?e.getElementById(t):e.ownerDocument&&((n=e.ownerDocument.getElementById(t))&&K(n,e)&&n||!K(e,e.ownerDocument)&&w('[id="'+t+'"]',e)[0])}function v(e,t){var n,o,s=g(t);if(!s||!e)return[];if(e===window||d(e))return!t||e!==window&&d(s)&&K(e,s)?[e]:[];if(e&&m(e))return r(e);if(n=e.match(F)){if(n[1])return(o=y(s,n[1]))?[o]:[];if(n[2])return i(s[S](n[2]));if(et&&n[3])return i(s[E](n[3]))}return w(e,s)}function b(e,t){return function(n){var r,i;return P.test(n)?(9!==e[C]&&((i=r=e.getAttribute("id"))||e.setAttribute("id",i="__qwerymeupscotty"),n='[id="'+i+'"]'+n,t(e.parentNode||e,n,!0),r||e.removeAttribute("id")),void 0):(n.length&&t(e,n,!1),void 0)}}var w,x=document,q=x.documentElement,E="getElementsByClassName",S="getElementsByTagName",k="querySelectorAll",T="useNativeQSA",A="tagName",C="nodeType",O=/#([\w\-]+)/,N=/\.[\w\-]+/g,j=/^#([\w\-]+)$/,M=/^\.([\w\-]+)$/,_=/^([\w\-]+)$/,D=/^([\w]+)?\.([\w\-]+)$/,P=/(^|,)\s*[>~+]/,R=/^\s+|\s*([,\s\+\~>]|$)\s*/g,H=/[\s\>\+\~]/,L=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,$=/([.*+?\^=!:${}()|\[\]\/\\])/g,B=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,I=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,z=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,F=new RegExp(j.source+"|"+_.source+"|"+M.source),W=new RegExp("("+H.source+")"+L.source,"g"),X=new RegExp(H.source+L.source),U=new RegExp(B.source+"("+I.source+")?("+z.source+")?"),Q={" ":function(e){return e&&e!==q&&e.parentNode},">":function(e,t){return e&&e.parentNode==t.parentNode&&e.parentNode},"~":function(e){return e&&e.previousSibling},"+":function(e,t,n,r){return e?(n=o(e))&&(r=o(t))&&n==r&&n:!1}};e.prototype={g:function(e){return this.c[e]||void 0},s:function(e,t,n){return t=n?new RegExp(t):t,this.c[e]=t}};var Y=new e,V=new e,J=new e,G=new e,K="compareDocumentPosition"in q?function(e,t){return 16==(16&t.compareDocumentPosition(e))}:"contains"in q?function(e,t){return t=9===t[C]||t==window?q:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},Z=function(){var e=x.createElement("p");return(e.innerHTML='<a href="#x">x</a>')&&"#x"!=e.firstChild.getAttribute("href")?function(e,t){return"class"===t?e.className:"href"===t||"src"===t?e.getAttribute(t,2):e.getAttribute(t)}:function(e,t){return e.getAttribute(t)}}(),et=!!x[E],tt=x.querySelector&&x[k],nt=function(e,t){var r,o,s=[];try{return 9!==t[C]&&P.test(e)?(n(r=e.split(","),b(t,function(e,t){o=e[k](t),1==o.length?s[s.length]=o.item(0):o.length&&(s=s.concat(i(o)))})),r.length>1&&s.length>1?h(s):s):i(t[k](e))}catch(a){}return rt(e,t)},rt=function(e,r){var i,o,s,a,u,c,f=[];if(e=e.replace(R,"$1"),o=e.match(D)){for(u=t(o[2]),i=r[S](o[1]||"*"),s=0,a=i.length;a>s;s++)u.test(i[s].className)&&(f[f.length]=i[s]);return f}return n(c=e.split(","),b(r,function(e,t,n){for(u=l(t,e),s=0,a=u.length;a>s;s++)(9===e[C]||n||K(u[s],r))&&(f[f.length]=u[s])})),c.length>1&&f.length>1?h(f):f},it=function(e){"undefined"!=typeof e[T]&&(w=e[T]?tt?nt:rt:rt)};return it({useNativeQSA:!0}),v.configure=it,v.uniq=h,v.is=f,v.pseudos={},v}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("lib/bean/bean",n):t[e]=n()}("bean",this,function(e,t){e=e||"bean",t=t||this;var n,r=window,i=t[e],o=/[^\.]*(?=\..*)\.|.*/,s=/\..*/,a="addEventListener",u="removeEventListener",c=document||{},l=c.documentElement||{},f=l[a],p=f?a:"attachEvent",d={},h=Array.prototype.slice,m=function(e,t){return e.split(t||" ")},g=function(e){return"string"==typeof e},y=function(e){return"function"==typeof e},v="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",b="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",w=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},m(v+(f?b:""))),x=function(){var e="compareDocumentPosition"in l?function(e,t){return t.compareDocumentPosition&&16===(16&t.compareDocumentPosition(e))}:"contains"in l?function(e,t){return t=9===t.nodeType||t===window?l:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),q=function(){var e=m("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(m("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),n=t.concat(m("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),i=e.concat(m("char charCode key keyCode keyIdentifier keyLocation location")),o=e.concat(m("data")),s=e.concat(m("touches targetTouches changedTouches scale rotation")),a=e.concat(m("data origin source")),u=e.concat(m("state")),f=/over|out/,p=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,i}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,r){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+c.body.scrollLeft+l.scrollLeft,n.clientY=e.clientY+c.body.scrollTop+l.scrollTop),f.test(r)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==r?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return o}},{reg:/^touch|^gesture/i,fix:function(){return s}},{reg:/^message$/i,fix:function(){return a}},{reg:/^popstate$/i,fix:function(){return u}},{reg:/.*/,fix:function(){return e}}],d={},h=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||r).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var i,o,s,a,u,c=e.type,l=e.target||e.srcElement;if(this.target=l&&3===l.nodeType?l.parentNode:l,n){if(u=d[c],!u)for(i=0,o=p.length;o>i;i++)if(p[i].reg.test(c)){d[c]=u=p[i].fix;break}for(a=u(e,this,c),i=a.length;i--;)!((s=a[i])in this)&&s in e&&(this[s]=e[s])}}};return h.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},h.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},h.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},h.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},h.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},h.prototype.clone=function(e){var t=new h(this,this.element,this.isNative);return t.currentTarget=e,t},h}(),E=function(e,t){return f||t||e!==c&&e!==r?e:l},S=function(){var e=function(e,t,n,r){var i=function(n,i){return t.apply(e,r?h.call(i,n?0:1).concat(r):i)},o=function(n,r){return t.__beanDel?t.__beanDel.ft(n.target,e):r},s=n?function(e){var t=o(e,this);return n.apply(t,arguments)?(e&&(e.currentTarget=t),i(e,arguments)):void 0}:function(e){return t.__beanDel&&(e=e.clone(o(e))),i(e,arguments)};return s.__beanDel=t.__beanDel,s},t=function(t,n,r,i,o,s,a){var u,c=x[n];"unload"==n&&(r=O(N,t,n,r,i)),c&&(c.condition&&(r=e(t,r,c.condition,s)),n=c.base||n),this.isNative=u=w[n]&&!!t[p],this.customType=!f&&!u&&n,this.element=t,this.type=n,this.original=i,this.namespaces=o,this.eventType=f||u?n:"propertychange",this.target=E(t,u),this[p]=!!this.target[p],this.root=a,this.handler=e(t,r,null,s)};return t.prototype.inNamespaces=function(e){var t,n,r=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&r++;return e.length===r},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),k=function(){var e={},t=function(n,r,i,o,s,a){var u=s?"r":"$";if(r&&"*"!=r){var c,l=0,f=e[u+r],p="*"==n;if(!f)return;for(c=f.length;c>l;l++)if((p||f[l].matches(n,i,o))&&!a(f[l],f,l,r))return}else for(var d in e)d.charAt(0)==u&&t(n,d.substr(1),i,o,s,a)},n=function(t,n,r,i){var o,s=e[(i?"r":"$")+n];if(s)for(o=s.length;o--;)if(!s[o].root&&s[o].matches(t,r,null))return!0;return!1},r=function(e,n,r,i){var o=[];return t(e,n,r,null,i,function(e){return o.push(e)}),o},i=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),r=(t.root?"r":"$")+t.type;return(e[r]||(e[r]=[])).push(t),n},o=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,r){return n.splice(r,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1})},s=function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n};return{has:n,get:r,put:i,del:o,entries:s}}(),T=function(e){n=arguments.length?e:c.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},A=function(e,t){if(f||!t||!e||e.propertyName=="_on"+t){var n=k.get(this,t||e.type,null,!1),r=n.length,i=0;for(e=new q(e,this,!0),t&&(e.type=t);r>i&&!e.isImmediatePropagationStopped();i++)n[i].removed||n[i].handler.call(this,e)}},C=f?function(e,t,n){e[n?a:u](t,A,!1)}:function(e,t,n,r){var i;n?(k.put(i=new S(e,r||t,function(t){A.call(e,t,r)},A,null,null,!0)),r&&null==e["_on"+r]&&(e["_on"+r]=0),i.target.attachEvent("on"+i.eventType,i.handler)):(i=k.get(e,r||t,A,!0)[0],i&&(i.target.detachEvent("on"+i.eventType,i.handler),k.del(i)))},O=function(e,t,n,r,i){return function(){r.apply(this,arguments),e(t,n,i)}},N=function(e,t,n,r){var i,o,a=t&&t.replace(s,""),u=k.get(e,a,null,!1),c={};for(i=0,o=u.length;o>i;i++)n&&u[i].original!==n||!u[i].inNamespaces(r)||(k.del(u[i]),!c[u[i].eventType]&&u[i][p]&&(c[u[i].eventType]={t:u[i].eventType,c:u[i].type}));for(i in c)k.has(e,c[i].t,null,!1)||C(e,c[i].t,!1,c[i].c)},j=function(e,t){var r=function(t,r){for(var i,o=g(e)?n(e,r):e;t&&t!==r;t=t.parentNode)for(i=o.length;i--;)if(o[i]===t)return t},i=function(e){var n=r(e.target,this);n&&t.apply(n,arguments)};return i.__beanDel={ft:r,selector:e},i},M=f?function(e,t,n){var i=c.createEvent(e?"HTMLEvents":"UIEvents");i[e?"initEvent":"initUIEvent"](t,!0,!0,r,1),n.dispatchEvent(i)}:function(e,t,n){n=E(n,e),e?n.fireEvent("on"+t,c.createEventObject()):n["_on"+t]++},_=function(e,t,n){var r,i,a,u,c=g(t);if(c&&t.indexOf(" ")>0){for(t=m(t),u=t.length;u--;)_(e,t[u],n);return e}if(i=c&&t.replace(s,""),i&&x[i]&&(i=x[i].base),!t||c)(a=c&&t.replace(o,""))&&(a=m(a,".")),N(e,i,n,a);else if(y(t))N(e,null,t);else for(r in t)t.hasOwnProperty(r)&&_(e,r,t[r]);return e},D=function(e,t,r,i){var a,u,c,l,f,g,v;{if(void 0!==r||"object"!=typeof t){for(y(r)?(f=h.call(arguments,3),i=a=r):(a=i,f=h.call(arguments,4),i=j(r,a,n)),c=m(t),this===d&&(i=O(_,e,t,i,a)),l=c.length;l--;)v=k.put(g=new S(e,c[l].replace(s,""),i,a,m(c[l].replace(o,""),"."),f,!1)),g[p]&&v&&C(e,g.eventType,!0,g.customType);return e}for(u in t)t.hasOwnProperty(u)&&D.call(this,e,u,t[u])}},P=function(e,t,n,r){return D.apply(null,g(n)?[e,n,t,r].concat(arguments.length>3?h.call(arguments,5):[]):h.call(arguments))},R=function(){return D.apply(d,arguments)},H=function(e,t,n){var r,i,a,u,c,l=m(t);for(r=l.length;r--;)if(t=l[r].replace(s,""),(u=l[r].replace(o,""))&&(u=m(u,".")),u||n||!e[p])for(c=k.get(e,t,null,!1),n=[!1].concat(n),i=0,a=c.length;a>i;i++)c[i].inNamespaces(u)&&c[i].handler.apply(e,n);else M(w[t],t,e);return e},L=function(e,t,n){for(var r,i,o=k.get(t,n,null,!1),s=o.length,a=0;s>a;a++)o[a].original&&(r=[e,o[a].type],(i=o[a].handler.__beanDel)&&r.push(i.selector),r.push(o[a].original),D.apply(null,r));return e},$={on:D,add:P,one:R,off:_,remove:_,clone:L,fire:H,Event:q,setSelectorEngine:T,noConflict:function(){return t[e]=i,this}};if(r.attachEvent){var B=function(){var e,t=k.entries();for(e in t)t[e].type&&"unload"!==t[e].type&&_(t[e].element,t[e].type);r.detachEvent("onunload",B),r.CollectGarbage&&r.CollectGarbage()};r.attachEvent("onunload",B)}return T(),$}),define("src/main",["module","lib/reqwest/reqwest","lib/bonzo/bonzo","lib/qwery/qwery","lib/bean/bean"],function(e,t,n,r,i){function o(e,t){return n(r(e,t))}function s(){var e=document.title,t=window.location,n="";window.getSelection?n=window.getSelection():document.getSelection?n=document.getSelection():document.selection&&(n=document.selection.createRange().text),h.url=t.toString(),h.title=e.toString(),h.content=n.toString()}function a(){var e,t,r,a,c,l,d;o("#webItemBookmarkletOverlay").length&&o("#webItemBookmarkletOverlay").remove(),s(),e={color:"#000","font-family":"Arial,sans-serif","font-size":"14px"},t={width:"100%",height:"100%",position:"fixed",top:"0",left:"0",zindex:"2147483647",background:"rgba(24,24,24,0.8)"},r={width:"640px",height:"480px",position:"absolute",background:"#fff",left:"50%",top:"50%",border:"1px solid #fff",padding:"10px",marginLeft:"-320px",marginTop:"-240px"},a={},c='<div id="webItemBookmarkletOverlay"></div>',l="<form><h1>Save this web item</h1>",l+='<div class="summary"><ul>',l+="<li><b>Title: </b>"+h.title+"</li>",l+="<li><b>URL: </b>"+h.url+"</li>",h.content.length&&(l+='<li><b>Excerpt:</b><div class="excerpt">'+h.content+"</div></li>"),l+="</ul></div>",l+='<div class="forminput"><label>Comment:</label><textarea id="webItemBookmarkletComment"></textarea></div><div class="forminput"><label>Tags:</label><textarea id="webItemBookmarkletTags"></textarea></div><div><input type="submit" value="save" id="webitemsave"><a href="#" id="webitemcancel">Cancel</a></form>',p=n(n.create(c)),d=n(n.create(l)),p.append(d),n(document.body).append(p),i.on(d.get(0),"click",o("#webitemcancel"),function(e){e.preventDefault(),f()}),i.on(d.get(0),"submit",function(e){e.preventDefault(),u()})}function u(){h.comment=o("#webItemBookmarkletComment").attr("value"),h.tags=o("#webItemBookmarkletTags").attr("value"),h.sourcePlatform="www",h.sourceId="";t({url:d,method:"post",type:"json",processData:!1,crossOrigin:!0,data:JSON.stringify(h),contentType:"application/json",success:c,error:l})}function c(){var e=o("form",p).empty().append("<h1>Your Web Item was saved succesfully</h1><button>OK</button>");e.css({color:"#000","font-family":"Arial,sans-serif"}),i.on(e.get(0),"click",o("button"),function(e){e.preventDefault(),f()})}function l(e){var t=JSON.parse(e.response).message,n=o("form",p).append("<h1>There was an error saving your Web Item</h1><p>"+t+"</p><button>Ok</button> (You can try again)");o(n).css({color:"#000","font-family":"Arial,sans-serif"}),i.on(n.get(0),"click",o("button"),function(e){e.preventDefault(),f()})}function f(){p.remove(),o("#webItemBookmarkletScript, #webItemBookmarkletStyle").remove()}var p,d="http://ontheweb.jit.su/webitem",h={};i.setSelectorEngine(r),a()}),require(["src/main"]);